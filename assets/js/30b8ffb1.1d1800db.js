"use strict";(self.webpackChunkifn_survey_handbook=self.webpackChunkifn_survey_handbook||[]).push([[347],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(a),f=r,m=u["".concat(l,".").concat(f)]||u[f]||d[f]||i;return a?n.createElement(m,s(s({ref:t},c),{},{components:a})):n.createElement(m,s({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=f;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},7273:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_label:"Participants"},s=void 0,o={unversionedId:"survey-handbook/study-service/participants",id:"survey-handbook/study-service/participants",title:"participants",description:"Study Participants",source:"@site/docs/survey-handbook/study-service/02-participants.md",sourceDirName:"survey-handbook/study-service",slug:"/survey-handbook/study-service/participants",permalink:"/docs/survey-handbook/study-service/participants",draft:!1,editUrl:"https://github.com/influenzanet/survey-handbook/docs/survey-handbook/study-service/02-participants.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Participants"},sidebar:"surveySidebar",previous:{title:"Study",permalink:"/docs/survey-handbook/study-service/study"},next:{title:"study-rules",permalink:"/docs/survey-handbook/study-service/study-rules"}},l={},p=[{value:"Study Participants",id:"study-participants",level:2},{value:"Participant Status",id:"status",level:2},{value:"Participants flags",id:"flags",level:2},{value:"Participants Mapping",id:"mapping",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"study-participants"},"Study Participants"),(0,r.kt)("p",null,"A Study ",(0,r.kt)("inlineCode",{parentName:"p"},"Participant")," represents an individual (human or not) subject of the survey response (each response is associated with a ",(0,r.kt)("inlineCode",{parentName:"p"},"Participant"),")."),(0,r.kt)("p",null,"A Participant is associated with a persistant ",(0,r.kt)("strong",{parentName:"p"},"state")," containing the participant's data:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"participantID"),": Uniquely identifies a participant"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"assignedSurveys"),": List of survey the participant can respond to. Each assignation can have a ",(0,r.kt)("em",{parentName:"li"},"category")," and a validity date range (from, until)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"status")," : Status of the participants in the study (can be ",(0,r.kt)("inlineCode",{parentName:"li"},"active"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"temporary"),",",(0,r.kt)("inlineCode",{parentName:"li"},"exited"),",",(0,r.kt)("inlineCode",{parentName:"li"},"accountDeleted"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"enteredDate"),": when the participant joined the study"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"flags")," : A list of key-values"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"currentStudySession"),": "),(0,r.kt)("li",{parentName:"ul"})),(0,r.kt)("h2",{id:"status"},"Participant Status"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'"active" '),(0,r.kt)("li",{parentName:"ul"},'"temporary" : for participants without a registered account'),(0,r.kt)("li",{parentName:"ul"},'"exited" : participant leaved the study'),(0,r.kt)("li",{parentName:"ul"},'"accountDeleted" : the corresponding account has been deleted (not possible anymore to identify the account)')),(0,r.kt)("h2",{id:"flags"},"Participants flags"),(0,r.kt)("p",null,"Participants flags allows to define a flag (with a name) and a value (a string) as a dynamic property.\nFlags are available in Survey Context during the filling of the reponse (the flags can be used in survey logic), and in the study rules."),(0,r.kt)("p",null,"The technical platform does not define any flags, it's up to the team managing the platform to define the flag needed to provide the study and survey logic they want.\nInfluenzanet Surveillance define some flags to be used with the common survey (see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/influenzanet/common-study-definition"},"common-study-definition"),")"),(0,r.kt)("h2",{id:"mapping"},"Participants Mapping"),(0,r.kt)("mermaid",{value:'\nflowchart LR\n\n    subgraph user["Users Profiles"]\n        profileID\n    end\n\n    globalSecret("Global Study Secret")\n\n    subgraph study["Study Service"]\n        StudySecret("Study Secret")\n        H{"Mapping Operator"}\n        ParticipantID\n    end\n\n    profile_1 --\x3e H\n    StudySecret:::secret --\x3e H\n    globalSecret:::secret --\x3e H\n    H --\x3e ParticipantID\n\n    classDef secret fill:#f96\n'}),(0,r.kt)("p",null,"Link between a user account and a given participant is done using a Mapping Operator"),(0,r.kt)("p",null,"User accounts contains list of profiles, each profile represents a participant, and is associated with avatar image and participant nickname.\nEach profile has a unique ID (hexadecimal string)"),(0,r.kt)("p",null,"The profile ID is transformed by the mapping operator to a participantID. This operation uses two parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A Global Secret (common for all studies of the running platform)"),(0,r.kt)("li",{parentName:"ul"},"A Study secret, specific of a study (and MUST be different across studies)")),(0,r.kt)("p",null,"This ensures:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A profile is mapped to a unique participant ID for a given study, and will be different for another study (if the study secret is different)")),(0,r.kt)("p",null,"Mapping operators are based on common cryptographic, making the reverse operation (from participantID to profileID very difficult, especially if secrets are not known, which is why we call them secret)."),(0,r.kt)("p",null,"Available operators are :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'"same" : Idempotent operator (profileID will be the same as participantID, not obfuscation)'),(0,r.kt)("li",{parentName:"ul"},'"aesctr" : AES-256-CTR cipher, can be reversed but poor performance'),(0,r.kt)("li",{parentName:"ul"},'"sha224" : SHA2 224 bits (28 octets), will be encoded as hexadecimal string (56 characters)'),(0,r.kt)("li",{parentName:"ul"},'"sha224-b64": SHA2 224 bits with base64 URL (38 chars)'),(0,r.kt)("li",{parentName:"ul"},'"sha256": SHA2 256 bits, will be encoded as hexadecimal string (64 chars)'),(0,r.kt)("li",{parentName:"ul"},'"sha256-b64": SHA2 256bits, encoded with base64 URL (43 chars)')),(0,r.kt)("p",null,"The operator is defined in study configuration, and obviously cannot be changed after participants have been created."))}d.isMDXComponent=!0}}]);