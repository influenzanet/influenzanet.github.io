"use strict";(self.webpackChunkifn_survey_handbook=self.webpackChunkifn_survey_handbook||[]).push([[3347],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var p=n.createContext({}),l=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=l(a),f=i,m=u["".concat(p,".").concat(f)]||u[f]||d[f]||r;return a?n.createElement(m,s(s({ref:t},c),{},{components:a})):n.createElement(m,s({ref:t},c))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=f;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:i,s[1]=o;for(var l=2;l<r;l++)s[l]=a[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},7273:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var n=a(7462),i=(a(7294),a(3905));const r={sidebar_label:"Participants"},s="Study Participants",o={unversionedId:"survey-handbook/study-service/participants",id:"survey-handbook/study-service/participants",title:"Study Participants",description:"A Study Participant represents an individual (human or not) subject of the survey responses (each response is associated with a Participant).",source:"@site/docs/survey-handbook/study-service/02-participants.md",sourceDirName:"survey-handbook/study-service",slug:"/survey-handbook/study-service/participants",permalink:"/docs/survey-handbook/study-service/participants",draft:!1,editUrl:"https://github.com/influenzanet/survey-handbook/docs/survey-handbook/study-service/02-participants.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Participants"},sidebar:"surveySidebar",previous:{title:"Study",permalink:"/docs/survey-handbook/study-service/study"},next:{title:"Study Rules",permalink:"/docs/survey-handbook/study-service/study-rules"}},p={},l=[{value:"Participant Status",id:"status",level:2},{value:"Participants flags",id:"flags",level:2},{value:"Participants Mapping",id:"mapping",level:2}],c={toc:l},u="wrapper";function d(e){let{components:t,...a}=e;return(0,i.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"study-participants"},"Study Participants"),(0,i.kt)("p",null,"A Study ",(0,i.kt)("inlineCode",{parentName:"p"},"Participant")," represents an individual (human or not) subject of the survey responses (each response is associated with a ",(0,i.kt)("inlineCode",{parentName:"p"},"Participant"),")."),(0,i.kt)("p",null,"A Participant is associated with a persistant ",(0,i.kt)("strong",{parentName:"p"},"state")," containing the participant's data:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"participantID"),": Uniquely identifies a participant (created using a ",(0,i.kt)("a",{parentName:"li",href:"#participants-mapping-mapping"},"Mapping Operator"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"assignedSurveys"),": List of survey the participant can respond to. Each assignation can have a ",(0,i.kt)("em",{parentName:"li"},"category")," and a validity date range (from, until)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"status")," : Status of the participants in the study (can be ",(0,i.kt)("inlineCode",{parentName:"li"},"active"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"temporary"),",",(0,i.kt)("inlineCode",{parentName:"li"},"exited"),",",(0,i.kt)("inlineCode",{parentName:"li"},"accountDeleted"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"enteredDate"),": when the participant joined the study"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"flags")," : A list of key-values"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"currentStudySession"),": The current session the participant is involved into")),(0,i.kt)("h2",{id:"status"},"Participant Status"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'"active" : The participant is active in the study ()'),(0,i.kt)("li",{parentName:"ul"},'"temporary" : for participants without a registered account'),(0,i.kt)("li",{parentName:"ul"},'"exited" : participant leaved the study'),(0,i.kt)("li",{parentName:"ul"},'"accountDeleted" : the corresponding account has been deleted (not possible anymore to identify the account)')),(0,i.kt)("h2",{id:"flags"},"Participants flags"),(0,i.kt)("p",null,"Participants flag allows to define a flag (with a name) and a value (a string) as a dynamic property.\nFlags are available in Survey Context during the filling of the response (the flags can be used in survey logic), and in the study rules."),(0,i.kt)("p",null,"The technical platform does not define any flag, it's up to the team managing the platform to define the flags needed to provide the study and survey logic they want.\nInfluenzanet Surveillance define some flags to be used with the common survey (see ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/influenzanet/common-study-definition"},"common-study-definition"),")"),(0,i.kt)("h2",{id:"mapping"},"Participants Mapping"),(0,i.kt)("mermaid",{value:'\nflowchart LR\n\n    subgraph user["Users Profiles"]\n        profileID\n    end\n\n    globalSecret("Global Study Secret")\n\n    subgraph study["Study Service"]\n        StudySecret("Study Secret")\n        H{"Mapping Operator"}\n        ParticipantID\n    end\n\n    profile_1 --\x3e H\n    StudySecret:::secret --\x3e H\n    globalSecret:::secret --\x3e H\n    H --\x3e ParticipantID\n\n    classDef secret fill:#f96\n'}),(0,i.kt)("p",null,"Link between a user account and a given participant is done using a Mapping Operator"),(0,i.kt)("p",null,"User accounts contains list of profiles, each profile represents a participant, and is associated properties (avatar image and participant nickname considered potentially identifying)."),(0,i.kt)("p",null,"Each profile has a unique ID (hexadecimal string)"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"profile")," ID is transformed by the mapping operator to a ",(0,i.kt)("inlineCode",{parentName:"p"},"participantID"),". This operation uses two external parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A Global Secret (common for all studies of the running platform), defined in the Study service configuration"),(0,i.kt)("li",{parentName:"ul"},"A Study secret, specific of a study (and MUST be different across studies)")),(0,i.kt)("p",null,"This ensures:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"A profile is mapped to a unique participant ID for a given study, and will be different for another study (if the study secret is different). Strictly speaking the mapping is not guaranteed to be unique but using an hashing function like SHA256 make the risk of collision (producing the same participantID for two different user's profile) is very unlikely.")),(0,i.kt)("p",null,"Mapping operators are based on common cryptographic operations, making the reverse operation (from ",(0,i.kt)("inlineCode",{parentName:"p"},"participantID")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"profileID")," very difficult, especially if secrets are not known, which is why we call them secret)."),(0,i.kt)("p",null,"Available operators are :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'"same" : identity operator (profileID will be the same as participantID, not obfuscation)'),(0,i.kt)("li",{parentName:"ul"},'"aesctr" : AES-256-CTR cipher, can be reversed but poor performance'),(0,i.kt)("li",{parentName:"ul"},'"sha224" : SHA2 224 bits (28 octets), will be encoded as hexadecimal string (56 characters)'),(0,i.kt)("li",{parentName:"ul"},'"sha224-b64": SHA2 224 bits with base64 URL (38 chars)'),(0,i.kt)("li",{parentName:"ul"},'"sha256": SHA2 256 bits, will be encoded as hexadecimal string (64 chars)'),(0,i.kt)("li",{parentName:"ul"},'"sha256-b64": SHA2 256bits, encoded with base64 URL (43 chars)')),(0,i.kt)("p",null,"The operator is defined in study configuration, and obviously cannot be changed after participants have been created."),(0,i.kt)("p",null,'The "same" operator can be used when separation between users\' data and participants data are not desired (when enforcing anonymity is not required nor desired).'))}d.isMDXComponent=!0}}]);